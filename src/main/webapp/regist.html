<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="js/ajax.js"></script>
<script type="text/javascript">
	function check(){
		//获得ajax对象
		var xhr=getAjax();
		//alert(xhr);
		//发送请求
		var uri='check.do?username='+$F('username');
		xhr.open('get',encodeURI(uri),true);
		xhr.onreadystatechange=function(){
			//处理服务器返回的数据
			if(xhr.readyState==4&&xhr.status==200){
				var txt=xhr.responseText;
				$('msg').innerHTML=txt;
			}
		};
		xhr.send(null);
	}
</script>
</head>
<body>
	<form action="regist.do">
		<fieldset>
			<legend>注册</legend>
			用户名:<input id="username" name="username" onblur="check();"/>
			<span id="msg" style="color:red;"></span><br/>
			密码:<input type="password" name="pwd"/><br/>
			<input type="submit" value="确定"/>
		</fieldset>
	</form>
</body>
</html>